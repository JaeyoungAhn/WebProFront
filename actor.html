<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Hello, world!</title>
    
  </head>
  <style>
   .row {
       position:absolute;
   }
   body {
cursor: url("./heart.png"), auto;
        }
  </style>
  <script>
    currentorder=1;
    food = {}
    order=[];
    function chooseleft(event) {
        delnum=document.getElementById('right-name').name;
        choose(event);
    }
    function chooseright(event) {
        delnum=document.getElementById('left-name').name;
        choose(event);        
    }
    function choose(event){
        var audio = new Audio('./ping.mp3');
        audio.play();
        deletenum(delnum);
        if(order.length==1) {
            var audio = new Audio('./tada.mp3');
            audio.play();
            var deleteleft = document.getElementById('divleft');
            var deleteright = document.getElementById('divright');
            deleteleft.parentNode.removeChild(deleteleft);
            deleteright.parentNode.removeChild(deleteright);
            document.getElementById('round').innerText="우승자";
            document.getElementById('final').innerHTML='<img src='+event.target.src+' alt="" width=60%">';
            var lastname = document.getElementById('finalname');
            lastname.setAttribute('class', 'display-2 fw-normal text-white bg-danger text-center');
            lastname.innerText=event.target.nextSibling.nextSibling.innerText;
        }   
        else{
            if(order.length==8 || order.length==4 || order.length==2){
               if(order.length==8) {
                document.getElementById('round').innerText="8강";
               }
               else if(order.length==4) {
                document.getElementById('round').innerText="준결승전";
               }
               else if(order.length==2) {
                document.getElementById('round').innerText="결승전";
               }
            currentorder=0;    
            }
            changephoto();    
        }     
    }
    function deletenum() {
        for(var i=0; i< order.length; i++){
            if(order[i]==delnum) {
                order.splice(i,1);
                i--;
            }
        }
    }
    function changephoto(){
        document.getElementById("left").src='./photo/'+photoname[order[currentorder]]+'.jpg';
        document.getElementById("right").src='./photo/'+photoname[order[currentorder+1]]+'.jpg';
        document.getElementById("left-name").innerText=photoname[order[currentorder]];
        document.getElementById("right-name").innerText=photoname[order[currentorder+1]];
        document.getElementById("left-name").name=order[currentorder];
        document.getElementById("right-name").name=order[currentorder+1];
        currentorder++;
        
    }
    window.addEventListener('load', () => {
        photoname=['강동원','공유','김민규','남주혁','박서준','서강준','송강',
        '송중기','안효섭','이종석','정해인','지창욱','차은우','최우식','최현욱',
        '현빈']
        for(let i=0; i<16; i++) {
            num=i;
            food[i]=photoname[i];
        }
        for(let i=0; i<16; i++) order.push(i);
        for(let j=0; j<order.length; j++) {
            let k=Math.floor(Math.random() * (j+1));
            [order[j], order[k]] = [order[k], order[j]];
        }
    
        document.getElementById("left").src='./photo/'+photoname[order[0]]+'.jpg';
        document.getElementById("right").src='./photo/'+photoname[order[1]]+'.jpg';
        document.getElementById("left-name").innerText=photoname[order[0]];
        document.getElementById("right-name").innerText=photoname[order[1]];
        document.getElementById("left-name").name=order[0];
        document.getElementById("right-name").name=order[1];
    }
    );
  </script>

  <body style="background-color:lightgrey;">
    <audio src="./bgm.mp3" autoplay loop></audio>
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom bg-dark">
        <a href="/index.html" style="text-decoration-line:none;"><img src="./love-color-text-retro.svg" alt="" width="120" ><span class="fs-2 text-white"> 이상형 월드컵</span></a>
     </header>

    <main>
   
            <h1 id="round" class="display-2 fw-normal text-white bg-danger text-center">16강</h1>
            <div id="final" class="text-center"></div>
            <h1 id="finalname"></h1>
        <div class="container-fluid">
            <div class="row">
                <div id="divleft" class="col-xxl-6" style="padding:0px">
                    <div class="left-box">
                        <img id="left" src="" class="img-fluid" alt="" width=100% onclick="chooseleft(event);">
                        <h1 id="left-name" style="position:relative; bottom:0px;" class="display-2 fw-normal text-white bg-dark text-center"></h1>
                    </div>
                </div>
                <div id="divright" class="col-xxl-6" style="padding:0px">
                    <div class="right-box">
                        <img id="right" name="" src="" class="img-fluid" alt="" width="100%"  onclick="chooseright(event);">
                        <h1 id="right-name" name="" style="position:relative; bottom:0px;" class="display-2 fw-normal text-white bg-dark text-center"></h1>
                    </div>
                </div>
          
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </body>
</html>